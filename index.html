<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mildred Ultimate Experience ğŸ˜„</title>
<style>
body{
    font-family: Arial,sans-serif;
    text-align:center;
    color:white;
    overflow:hidden;
    margin:0;
    padding:40px;
    transition: background 2s;
}
.screen{
    display:none;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    height:100vh;
}
button{
    padding:15px 25px;
    font-size:18px;
    border:none;
    border-radius:20px;
    cursor:pointer;
    color:white;
    position:absolute;
    transition:2.5s;
}
#output{font-size:22px;margin-top:20px;}
.heart{
    position:absolute;
    font-size:20px;
    transition:2.5s linear;
}
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
}
</style>
</head>
<body>

<!-- SCREENS -->
<div id="screen1" class="screen" style="display:flex;">
    <h1>ğŸ¤– Mildred Personality Scanner</h1>
    <button id="startScan">Start Scan ğŸ”</button>
    <h2 id="scanText"></h2>
</div>

<div id="screen2" class="screen">
    <h2>Scan Complete! ğŸ˜</h2>
    <button id="nextToGame">Next â¡ï¸</button>
</div>

<div id="screen3" class="screen">
    <h2>Mini Game ğŸ®</h2>
    <button class="gameBtn" id="btn1">Catch Me 1</button>
    <button class="gameBtn" id="btn2">Catch Me 2</button>
    <button class="gameBtn" id="btn3">Catch Me 3</button>
    <h2 id="score">Score: 0</h2>
</div>

<div id="screen4" class="screen">
    <h2>Random Fun Facts ğŸ˜œ</h2>
    <button onclick="joke()">Show Me!</button>
    <h2 id="funOutput"></h2>
    <button onclick="unlockPhoto()">Next â¡ï¸</button>
</div>

<div id="screen5" class="screen">
    <h2>Hidden Photo ğŸ“¸</h2>
    <img src="mildred.jpg" style="width:250px;border-radius:20px;">
    <button onclick="ending()">Final Surprise ğŸ‰</button>
</div>

<div id="screen6" class="screen">
    <div id="stars"></div>
    <h1>âœ¨ I made this whole experience just to make you smile ğŸ’– âœ¨</h1>
</div>

<audio id="music" autoplay loop>
<source src="perfect.mp3" type="audio/mpeg">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>

// ---- VARIABLES ----
let score = 0;
let gameBtns = document.querySelectorAll(".gameBtn");

// ---- SCREEN FLOW ----
function showScreen(id){
    document.querySelectorAll(".screen").forEach(s=>s.style.display="none");
    document.getElementById(id).style.display="flex";
}

// ---- SCREEN1: SCAN ----
document.getElementById("startScan").addEventListener("click",()=>{
    let textEl = document.getElementById("scanText");
    textEl.innerHTML = "Scanning...";
    setTimeout(()=>{
        showScreen("screen2");
    },2000);
});

// ---- SCREEN2: NEXT TO GAME ----
document.getElementById("nextToGame").addEventListener("click",()=>{
    showScreen("screen3");
});

// ---- SCREEN3: MINI GAME ----
gameBtns.forEach(btn=>{
    btn.style.top = Math.random()*70 + "%";
    btn.style.left = Math.random()*70 + "%";
});

function moveButton(btn){
    btn.style.top = Math.random()*70 + "%";
    btn.style.left = Math.random()*70 + "%";
}

function changeColor(btn){
    let hue = Math.floor(Math.random()*360);
    btn.style.background = "hsl("+hue+",80%,60%)";
}

// Float + change color every 0.5s
setInterval(()=>{
    gameBtns.forEach(btn=>{
        moveButton(btn);
        changeColor(btn);
    });
},500);

// Button dodge finger (touch)
document.addEventListener("touchmove", e=>{
    let touch = e.touches[0];
    gameBtns.forEach(btn=>{
        let rect = btn.getBoundingClientRect();
        if(Math.abs(touch.clientX - rect.left) < 80 && Math.abs(touch.clientY - rect.top) < 50){
            moveButton(btn);
        }
    });
});

// Click buttons to increase score
gameBtns.forEach(btn=>{
    btn.addEventListener("click",()=>{
        score++;
        document.getElementById("score").innerHTML = "Score: "+score;
        if(score>=5){
            showScreen("screen4");
        }
    });
});

// ---- SCREEN4: FUN FACTS ----
function joke(){
    let jokes = [
        "Scientific discovery: Your smile improves global happiness ğŸ˜‚",
        "Warning: You may cause unexpected heart attacks (the good kind ğŸ˜„)",
        "Breaking news: Someone thinks you're pretty amazing ğŸ‘€",
        "Doctors recommend 10 minutes of Mildred per day for happiness ğŸ˜œ"
    ];
    document.getElementById("funOutput").innerHTML = jokes[Math.floor(Math.random()*jokes.length)];
}

function unlockPhoto(){
    showScreen("screen5");
}

// ---- SCREEN5: FINAL PHOTO ----
function ending(){
    showScreen("screen6");
    let music=document.getElementById("music");
    let fade=setInterval(()=>{
        if(music.volume>0.05){music.volume-=0.05;}
        else{clearInterval(fade);}
    },300);

    // Starry sky
    for(let i=0;i<150;i++){
        let star = document.createElement("div");
        star.classList.add("star");
        star.style.top=Math.random()*100+"%";
        star.style.left=Math.random()*100+"%";
        document.getElementById("stars").appendChild(star);
    }

    // Confetti
    confetti({particleCount:250,spread:90});

}

// ---- BACKGROUND CHANGE EVERY 5S ----
function randomBackground(){
    let hue=Math.floor(Math.random()*360);
    document.body.style.background="linear-gradient(120deg,hsl("+hue+",80%,70%),hsl("+((hue+60)%360)+",80%,80%))";
}
setInterval(randomBackground,5000);

// ---- FLOATING HEARTS + MOVE RANDOMLY EVERY 2.5S ----
function createHeart(){
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML="ğŸ’–";
    heart.style.left = Math.random()*100+"vw";
    heart.style.bottom = "-20px";
    document.body.appendChild(heart);

    setInterval(()=>{
        heart.style.left = Math.random()*100+"vw";
        heart.style.bottom = Math.random()*80+"vh";
    },2500);

    setTimeout(()=>{heart.remove()},8000);
}
setInterval(createHeart,400);

</script>
</body>
</html>

